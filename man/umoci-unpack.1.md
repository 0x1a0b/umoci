% umoci-unpack(1) # umoci unpack - Unpacks an OCI image tag into an runtime bundle
% Aleksa Sarai
% DECEMBER 2016
# NAME
umoci unpack - Unpacks an OCI image tag into an runtime bundle

# SYNOPSIS
**umoci unpack**
**--image**=*image*[:*tag*]
*<bundle>*

# DESCRIPTION
Extracts all of the layers (deterministically) to an OCI runtime bundle, as
well as generating an OCI runtime configuration that corresponds to the image's
configuration. In addition, an **mtree**(8) specification is generated at the
time of unpacking to allow filesystem deltas to be generated by
**umoci-repack**(1) and thus allowing for the creation of layered OCI images.

# OPTIONS
The global options are defined in **umoci**(1).

**--image**=*image*[:*tag*]
  The OCI image tag which will be extracted to the *bundle*. *image* must be a
  path to a valid OCI image and *tag* must be a valid tag in the image. If
  *<tag>* is not provided it defaults to "latest".

**--uid-map**=[*value*]
  Specifies a UID mapping to use while unpacking layers. This is used in a
  similar fashion to **user_namespaces**(7).

**--gid-map**=[*value*]
  Specifies a GID mapping to use while unpacking layers. This is used in a
  similar fashion to **user_namespaces**(7).

**--rootless**
  Enable rootless unpacking support. This allows for **umoci-unpack**(1) and
  **umoci-repack**(1) to be used as an unprivileged user. Use of this flag
  implies **--uid-map=$(id -u):0:1** and **--gid-map=$(id -g):0:1**, as well as
  enabling several features to fake parts of the unpacking in the attempt to
  generate an as-close-as-possible extraction of the filesystem. Note that it
  is almost always not possible to perfectly extract an OCI image with
  **--rootless**, but it will be as close as possible.

# SEE ALSO
**umoci**(1), **umoci-repack**(1)
